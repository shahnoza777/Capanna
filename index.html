<!doctype html>
<html lang="uz">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Capanna — Onlayn Rezervatsiya</title>
  <meta name="description" content="Capanna restoran — chiroyli onlayn joy band qilish sistemi" />

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --accent:#b08a4f; /* oltin */
      --dark:#0f1724;
      --muted:#8a8f98;
      --bg:#f7f6f4;
      --card:#ffffff;
      --glass: rgba(255,255,255,0.65);
      --shadow: 0 6px 20px rgba(15,17,36,0.12);
      --radius:16px;
    }
    *{box-sizing:border-box}
    body{font-family:Montserrat,system-ui,Arial; margin:0; background:linear-gradient(180deg,#fbfaf8 0%, #f0efe8 100%); color:var(--dark); -webkit-font-smoothing:antialiased}

    header{display:flex;align-items:center;justify-content:space-between;padding:20px 40px;backdrop-filter: blur(6px);position:sticky;top:0;z-index:20}
    .logo{display:flex;align-items:center;gap:12px}
    .logo img{height:52px; width:auto;border-radius:8px;object-fit:contain}
    .brand{font-family:'Playfair Display', serif;font-size:20px;font-weight:700;color:var(--dark)}

    nav a{margin-left:18px;text-decoration:none;color:var(--dark);font-weight:600}
    .hero{display:grid;grid-template-columns:1fr 420px;gap:40px;padding:60px 40px;align-items:center}
    .hero-left h1{font-family:'Playfair Display',serif;font-size:44px;margin:0 0 12px}
    .hero-left p{color:var(--muted);margin:0 0 20px}
    .cta{display:inline-block;padding:12px 20px;border-radius:12px;background:var(--dark);color:#fff;text-decoration:none;font-weight:700}
    .hero-right{background:linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.75));padding:22px;border-radius:18px;box-shadow:var(--shadow)}

    /* Reservation form */
    .form-row{display:flex;gap:12px}
    .form-row .field{flex:1}
    label{display:block;font-size:13px;margin-bottom:6px;color:var(--muted)}
    input, select{width:100%;padding:10px 12px;border-radius:10px;border:1px solid #e6e6e6;background:var(--card);font-size:15px}
    .btn-book{display:inline-block;margin-top:12px;padding:12px 18px;border-radius:12px;background:var(--accent);color:#fff;font-weight:700;border:none;cursor:pointer}

    /* Menu */
    .menu{padding:40px;background:linear-gradient(180deg,#fff 0%, #fbfaf8 100%)}
    .menu-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:18px}
    .dish{background:var(--card);padding:16px;border-radius:14px;box-shadow:var(--shadow)}
    .dish h4{margin:0 0 8px}
    .price{font-weight:700;color:var(--accent)}

    /* Sections */
    section{padding:24px 40px}
    .container{max-width:1150px;margin:0 auto}

    footer{padding:28px 40px;background:#fff;border-top:1px solid #eee;margin-top:30px}

    /* Modal */
    .modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(8,10,15,0.45);z-index:60;opacity:0;pointer-events:none;transition:all .18s}
    .modal.show{opacity:1;pointer-events:auto}
    .modal-card{background:var(--card);padding:22px;border-radius:14px;min-width:320px;max-width:520px;box-shadow:var(--shadow)}

    /* Responsive */
    @media (max-width:900px){
      .hero{grid-template-columns:1fr; padding:40px 18px}
      header{padding:14px 18px}
      nav{display:none}
    }

    /* small touches */
    .highlight{color:var(--accent)}
    .muted{color:var(--muted)}

    /* success animation */
    .success-icon{width:72px;height:72px;border-radius:50%;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg,var(--accent),#8f6f47);color:white;font-size:28px;margin:0 auto 12px}
  </style>
</head>
<body>

  <header class="container">
    <div class="logo">
      <img src="./Asset 16.png" alt="Capanna logo" onerror="this.src='data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\' width=\'120\' height=\'40\'><rect width=\'100%\' height=\'100%\' fill=\'%23b08a4f\'></rect><text x=\'12\' y=\'26\' font-family=\'Playfair Display\' font-size=18 fill=\'#fff\'>Capanna</text></svg>'"/>
      <div>
        <div class="brand">Capanna</div>
        <div class="muted" style="font-size:12px">Elegance • Taste • Comfort</div>
      </div>
    </div>
    <nav>
      <a href="#home">Home</a>
      
      <a href="#reservation">Reservation</a>
      <a href="#contact">Contact</a>
    </nav>
  </header>

  <main>
    <section id="home" class="hero container">
      <div class="hero-left">
        <h1>Capanna restoraniga xush kelibsiz</h1>
        <p class="muted">Sizni qulay muhit, ajoyib taomlar va yuqori darajadagi xizmat kutmoqda. Joy band qiling — biz hammasini tayyorlaymiz.</p>
        <a class="cta" href="#reservation">Joy band qilish</a>

        <div style="margin-top:28px;display:flex;gap:14px;align-items:center">
          <div style="background:var(--card);padding:12px;border-radius:12px;box-shadow:var(--shadow);min-width:140px;text-align:center">
            <div style="font-weight:700">Ochilish</div>
            <div class="muted">Har kuni 10:00 - 23:00</div>
          </div>
          <div style="background:var(--card);padding:12px;border-radius:12px;box-shadow:var(--shadow);min-width:140px;text-align:center">
            <div style="font-weight:700">Manzil</div>
            <div class="muted">Toshkent, Mustaqillik ko'chasi 12</div>
          </div>
        </div>
      </div>


    </section>

    <section id="reservation" class="container" style="padding-top:12px;padding-bottom:30px">
      <h2>Reservation</h2>
     

      <!-- duplicate detailed form for SEO / long form -->
      <form id="reservationForm2" style="margin-top:14px" novalidate>
        <div class="form-row">
          <div class="field">
            <label for="firstName2">Ism</label>
            <input id="firstName2" name="firstName2" type="text" placeholder="Ismingiz" required />
          </div>
          <div class="field">
            <label for="lastName2">Familya</label>
            <input id="lastName2" name="lastName2" type="text" placeholder="Familyangiz" required />
          </div>
        </div>

        <div class="form-row" style="margin-top:12px">
          <div class="field">
            <label for="date2">Sana</label>
            <input id="date2" name="date2" type="date" required />
          </div>
          <div class="field">
            <label for="time2">Soat</label>
            <input id="time2" name="time2" type="time" required />
          </div>
        </div>

        <div class="form-row" style="margin-top:12px">
          <div class="field">
            <label for="guests2">Odamlar soni</label>
            <select id="guests2" name="guests2" required>
              <option value="">— tanlang —</option>
              <option>1</option>
              <option>2</option>
              <option>3</option>
              <option>4</option>
              <option>5</option>
              <option>6+</option>
            </select>
          </div>
          <div class="field">
            <label for="phone2">Telefon</label>
            <input id="phone2" name="phone2" type="tel" placeholder="+998 9X XXX XXXX" required />
          </div>
        </div>

        <div style="margin-top:12px">
          <label for="notes2">Qo'shimcha izoh (ixtiyoriy)</label>
          <input id="notes2" name="notes2" type="text" placeholder="Masalan: tug'ilgan kun, vegetarian..." />
        </div>

        <button class="btn-book" type="submit">Joyni band qilmoq</button>
        <div id="formMessage2" class="muted" style="margin-top:8px;font-size:13px"></div>
      </form>

    </section>

    <section id="contact" class="container">
      <h3>Kontakt</h3>
      <p class="muted">Telefon: +998 71 123 45 67 • Email: info@capanna.uz</p>
      <p class="muted">Manzil: Toshkent, Mustaqillik ko'chasi 12</p>
    </section>

  </main>

  <footer>
    <div class="container" style="display:flex;align-items:center;justify-content:space-between;gap:10px;flex-wrap:wrap">
      <div>
        <strong>Capanna</strong>
        <div class="muted">© <span id="year"></span> All rights reserved</div>
      </div>
      <div class="muted">Made with ♥ for your guests</div>
    </div>
  </footer>

  <!-- Modal -->
  <div id="modal" class="modal" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal-card" role="document">
      <div id="modalContent"></div>
      <div style="text-align:center;margin-top:12px">
        <button id="modalClose" class="btn-book">Yopish</button>
      </div>
    </div>
  </div>

  <script>
    // small helpers
    function qs(id){return document.getElementById(id)}
    document.getElementById('year').textContent = new Date().getFullYear();

    // validation and booking (client-only simulation)
    function setupForm(formId, messageId){
      const form = qs(formId);
      const message = qs(messageId);

      form.addEventListener('submit', function(e){
        e.preventDefault();
        message.textContent = '';

        const data = {};
        const valid = Array.from(form.querySelectorAll('[required]')).every(input => {
          if(!input.value || input.value.trim()===''){
            input.style.borderColor = '#f6c6c6';
            return false;
          }
          input.style.borderColor = '#e6e6e6';
          data[input.name] = input.value.trim();
          return true;
        });

        if(!valid){
          message.textContent = 'Iltimos, kerakli maydonlarni toʻldiring.';
          return;
        }

        // date/time validation: no past dates
        const dateVal = form.querySelector('[type=date]').value;
        const timeVal = form.querySelector('[type=time]').value;
        if(dateVal){
          const selected = new Date(dateVal + 'T' + (timeVal || '00:00'));
          const now = new Date();
          if(selected < now){
            message.textContent = 'Iltimos, otmish sanasini tanlamang.';
            return;
          }
        }

        // generate booking id
        const id = 'CAP-'+Math.random().toString(36).slice(2,9).toUpperCase();
        data.bookingId = id;
        data.created = new Date().toISOString();

        // save to localStorage (simulation) — replace with server call in production
        const store = JSON.parse(localStorage.getItem('capanna_bookings')||'[]');
        store.push(data);
        localStorage.setItem('capanna_bookings', JSON.stringify(store));

        // show modal confirmation
        const modal = qs('modal');
        const modalContent = qs('modalContent');
        modalContent.innerHTML = `
          <div class="success-icon">✓</div>
          <h3 style="text-align:center;margin:6px 0">Rezervatsiya tasdiqlandi</h3>
          <p class="muted" style="text-align:center">Booking ID: <strong>${id}</strong></p>
          <div style="margin-top:10px;padding:10px;background:var(--bg);border-radius:10px;font-size:14px">
            <strong>${data.firstName || data.firstName2} ${data.lastName || data.lastName2}</strong><br>
            Sana: <strong>${dateVal}</strong> • Soat: <strong>${timeVal}</strong><br>
            Odamlar: <strong>${data.guests || data.guests2}</strong>
          </div>
          <p class="muted" style="margin-top:10px;font-size:13px">Biz sizga tasdiq xabarini SMS yoki email orqali yuboramiz.</p>
        `;
        modal.classList.add('show');
        modal.setAttribute('aria-hidden','false');

        // reset form
        form.reset();
      });
    }

    setupForm('reservationForm','formMessage');
    setupForm('reservationForm2','formMessage2');

    // modal close
    qs('modalClose').addEventListener('click', function(){
      const modal = qs('modal');
      modal.classList.remove('show');
      modal.setAttribute('aria-hidden','true');
    });

    // simple smooth scroll for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(a=>{
      a.addEventListener('click', function(e){
        const target = document.querySelector(this.getAttribute('href'));
        if(target){ e.preventDefault(); target.scrollIntoView({behavior:'smooth',block:'start'}); }
      });
    });

    // small UX: prefill today's date
    const today = new Date().toISOString().split('T')[0];
    document.querySelectorAll('input[type=date]').forEach(i=>{ i.setAttribute('min', today); if(!i.value) i.value = today; });

  </script>
</body>
</html>
