<!doctype html>
<html lang="uz">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Capanna ‚Äî Onlayn Rezervatsiya</title>

  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --accent: #b08a4f;
      --dark: #0f1724;
      --muted: #8a8f98;
      --bg: #f7f6f4;
      --card: #ffffff;
      --shadow: 0 6px 20px rgba(15, 17, 36, 0.12);
      --radius: 16px;
    }

    *{box-sizing:border-box;margin:0;padding:0}
    body{font-family:Montserrat,Arial;background:#f8f7f4;color:var(--dark);-webkit-font-smoothing:antialiased}
    header{display:flex;justify-content:space-between;align-items:center;padding:20px 40px;background:rgba(255,255,255,0.8);backdrop-filter:blur(8px);position:sticky;top:0;z-index:10}
    .logo{display:flex;align-items:center;gap:12px}
    .logo img{height:52px;border-radius:8px}
    .brand{font-family:'Playfair Display',serif;font-size:22px;font-weight:700}
    nav a{margin-left:18px;text-decoration:none;color:var(--dark);font-weight:600}
    nav a:hover{color:var(--accent)}

    .hero{display:grid;grid-template-columns:1fr 420px;gap:40px;padding:60px 40px;align-items:center}
    .hero-left h1{font-family:'Playfair Display',serif;font-size:42px;margin-bottom:12px}
    .hero-left p{color:var(--muted);margin-bottom:20px}
    .cta{background:var(--accent);color:white;padding:12px 20px;border-radius:12px;text-decoration:none;font-weight:700}
    .hero-right{background:white;padding:22px;border-radius:18px;box-shadow:var(--shadow)}

    label{display:block;font-size:13px;margin-bottom:6px;color:var(--muted)}
    input,select{width:100%;padding:10px 12px;border-radius:10px;border:1px solid #e6e6e6;background:var(--card);font-size:15px}
    .form-row{display:flex;gap:12px;margin-bottom:12px}
    .btn-book{display:inline-block;background:var(--accent);color:white;font-weight:700;border:none;padding:12px 18px;border-radius:12px;cursor:pointer}

    section{padding:40px}
    footer{padding:20px 40px;text-align:center;border-top:1px solid #eee;background:#fff}

    .modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.5);opacity:0;pointer-events:none;transition:.3s}
    .modal.show{opacity:1;pointer-events:auto}
    .modal-card{background:white;padding:22px;border-radius:14px;box-shadow:var(--shadow);max-width:420px;text-align:center}
    .success-icon{width:70px;height:70px;background:var(--accent);color:white;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:30px;margin:0 auto 10px}
  </style>
</head>

<body>
  <header>
    <div class="logo">
      <img src="./Asset 16.png" alt="Capanna logo">
      <div>
        <div class="brand">Capanna</div>
        <div style="color:var(--muted);font-size:12px">Elegance ‚Ä¢ Taste ‚Ä¢ Comfort</div>
      </div>
    </div>
    <nav>
      <a href="#home">Home</a>
      <a href="#reservation">Reservation</a>
      <a href="#contact">Contact</a>
    </nav>
  </header>

  <main>
    <section id="home" class="hero">
      <div class="hero-left">
        <h1>Capanna restoraniga xush kelibsiz</h1>
        <p>Sizni qulay muhit, ajoyib taomlar va yuqori darajadagi xizmat kutmoqda. Joy band qiling ‚Äî biz hammasini tayyorlaymiz.</p>
        <a href="#reservation" class="cta">Joy band qilish</a>
      </div>
      <div class="hero-right">
        <form id="reservationForm" novalidate>
          <div class="form-row">
            <div class="field">
              <label for="firstName2">Ism</label>
              <input id="firstName2" name="firstName2" type="text" placeholder="Ismingiz" required />
            </div>
            <div class="field">
              <label for="lastName2">Familya</label>
              <input id="lastName2" name="lastName2" type="text" placeholder="Familyangiz" required />
            </div>
          </div>
          <div class="form-row">
            <div class="field">
              <label for="date2">Sana</label>
              <input id="date2" name="date2" type="date" required />
            </div>
            <div class="field">
              <label for="time2">Soat</label>
              <input id="time2" name="time2" type="time" required />
            </div>
          </div>
          <div class="form-row">
            <div class="field">
              <label for="guests2">Odamlar soni</label>
              <select id="guests2" name="guests2" required>
                <option value="">‚Äî tanlang ‚Äî</option>
                <option>1</option><option>2</option><option>3</option>
                <option>4</option><option>5</option><option>6+</option>
              </select>
            </div>
            <div class="field">
              <label for="phone2">Telefon</label>
              <input id="phone2" name="phone2" type="tel" placeholder="+998 9X XXX XXXX" required />
            </div>
          </div>
          <label for="notes2">Qo'shimcha izoh (ixtiyoriy)</label>
          <input id="notes2" name="notes2" type="text" placeholder="Masalan: tug'ilgan kun..." />
          <button class="btn-book" type="submit">Joyni band qilmoq</button>
          <div id="formMessage2" style="margin-top:6px;color:var(--muted);font-size:13px"></div>
        </form>
      </div>
    </section>

    <section id="contact">
      <h3>Kontakt</h3>
      <p>Telefon: +998 71 123 45 67 ‚Ä¢ Email: info@capanna.uz</p>
      <p>Manzil: Toshkent, Mustaqillik ko'chasi 12</p>
    </section>
  </main>

  <footer>¬© <span id="year"></span> Capanna ‚Äî All rights reserved</footer>

  <div id="modal" class="modal">
    <div class="modal-card">
      <div id="modalContent"></div>
      <button id="modalClose" class="btn-book" style="margin-top:10px">Yopish</button>
    </div>
  </div>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
    const form = document.getElementById("reservationForm");
    const modal = document.getElementById("modal");
    const modalContent = document.getElementById("modalContent");
    const closeBtn = document.getElementById("modalClose");

    const BOT_TOKEN = "7580063898:AAHlf9B3KOvBA1yMo4l9f-eT3I-2EetgLXM";
    const CHAT_ID = "1571070022";

    form.addEventListener("submit", async (e) => {
      e.preventDefault();

      const data = {
        firstName2: form.firstName2.value.trim(),
        lastName2: form.lastName2.value.trim(),
        date2: form.date2.value,
        time2: form.time2.value,
        guests2: form.guests2.value,
        phone2: form.phone2.value.trim(),
        notes2: form.notes2.value.trim()
      };

      // Validatsiya
      if (!data.firstName2 || !data.lastName2 || !data.date2 || !data.time2 || !data.guests2 || !data.phone2) {
        document.getElementById("formMessage2").textContent = "Iltimos, barcha majburiy maydonlarni to‚Äòldiring.";
        return;
      }

      const msg = `
üßæ *Yangi rezervatsiya!*
üë§ Ism: ${data.firstName2}
üë• Familya: ${data.lastName2}
üìÖ Sana: ${data.date2}
üïí Soat: ${data.time2}
üë´ Odamlar soni: ${data.guests2}
‚òéÔ∏è Telefon: ${data.phone2}
üìù Izoh: ${data.notes2 || "‚Äî"}
`;

      try {
        await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            chat_id: CHAT_ID,
            text: msg,
            parse_mode: "Markdown"
          })
        });

        modalContent.innerHTML = `
          <div class="success-icon">‚úì</div>
          <h3>Rezervatsiya yuborildi!</h3>
          <p style="color:var(--muted)">Siz bilan tez orada bog‚Äòlanamiz.</p>
        `;
        modal.classList.add("show");
        form.reset();
      } catch (err) {
        alert("Xabar yuborishda xatolik: " + err.message);
      }
    });

    closeBtn.addEventListener("click", () => {
      modal.classList.remove("show");
    });

    // bugungi sanani avtomatik qo‚Äòyish
    const today = new Date().toISOString().split("T")[0];
    form.date2.setAttribute("min", today);
    form.date2.value = today;
  </script>
</body>
</html>
